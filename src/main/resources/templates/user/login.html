<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="/css/login_style.css"/>
    <title>로그인</title>
</head>

<body>
<div class="login-content">
    <form class="login-form" th:action="@{/login}" method="post">

        <script th:if="${successMessage}" th:inline="javascript">
            alert([[${successMessage}]]);
        </script>

        <script th:inline="javascript">
            const urlParams = new URLSearchParams(window.location.search);
            if (urlParams.get('error') === 'unauthorized') {
                alert("로그인이 필요한 서비스입니다.");
            }
        </script>

        <div class="login-title">로그인</div>
        <br>
        <div>
            <label for="userName">아이디</label>
            <input class="login-control" type="text" name="userName" id="userName" required>
        </div>
        <div>
            <label for="password">비밀번호</label>
            <input class="login-control" type="password" name="password" id="password" required>
        </div>
        <button class="login-button" type="submit">로그인</button>
        <br>
        <a href="/join">
            <button class="join-button" type="button" th:onclick="|location.href='@{/join}'|">회원가입</button>
        </a>
    </form>
</div>
</body>
</html>
